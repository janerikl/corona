<p id="notice"><%= notice %></p>

<h1>Korona oireet kartta</h1>


<div id="map"></div>

<table>
  <thead>
    <tr>
      <th>Symptom</th>
      <th>Started</th>
      <th>City</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @reports.each do |report| %>
      <tr>
        <td><%= report.symptom_id %></td>
        <td><%= report.started %></td>
        <td><%= report.city_id %></td>
        <td><%= link_to 'Show', report %></td>
        <td><%= link_to 'Edit', edit_report_path(report) %></td>
        <td><%= link_to 'Destroy', report, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Ilmoita oireista', new_report_path, class: "new btn" %>

<script>
  labels = ['A','B']
// Initialize and add the map
function initMap() {
  // The location of Uluru
  var helsinki = {lat: 60.192059, lng: 24.945831};

  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 12,
    center: helsinki
  });

  // This event listener calls addMarker() when the map is clicked.
  google.maps.event.addListener(map, 'click', function(event) {
    addMarker(event.latLng, map);
    console.log(event.latLng);
  });
} 

// Adds a marker to the map.
function addMarker(location, map) {
  // Add the marker at the clicked location, and add the next-available label
  // from the array of alphabetical characters.
  var marker = new google.maps.Marker({
    position: location,
    map: map
  });


}
//google.maps.event.addDomListener(window, 'load', initMap);

</script>
<!--Load the API from the specified URL
* The async attribute allows the browser to render the page while the API loads
* The key parameter will contain your own API key (which is not needed for this tutorial)
* The callback parameter executes the initMap() function
-->
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_GOqD8lWBT5TptUl2rEyCwaPC_GTPg38&callback=initMap">
</script>
